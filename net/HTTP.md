## 报文
![Els7HH.png](https://s2.ax1x.com/2019/04/29/Els7HH.png)
<br>
分为三个部分

- 起始行
- 首部
- 主体

## HTTP状态码
- HTTP: Status 200 – 服务器成功返回网页
- HTTP: Status 3xx - 表示要完成请求，需要进一步操作。 通常，这些状态代码用来重定向
- HTTP: Status 4xx – 客户端请求有问题
- HTTP: Status 5xx – 服务端响应有问题

1. 重定向（3字头）

- 301 Moved Permanently 永久移动
- 302 Move temporarily 临时移动
- 304 Not Modified  如果客户端发送了一个带条件的 `GET `请求且该请求已被允许，而文档的内容（自上次访问以来或者根据请求的条件）并没有改变，则服务器应当返回这个状态码。

2. 请求错误（4开头）
- 401 Unauthorized 当前请求需要用户验证。
- 403 Forbidden 服务器已经理解请求，但是拒绝执行它
- 404 Not Found 请求失败，请求所希望得到的资源未被在服务器上发现。

3. 服务器错误（5字头）
- 500 Internal Server Error 服务器遇到了一个未曾预料的状况，导致了它无法完成对请求的处理。一般来说，这个问题都会在服务器端的源代码出现错误时出现。
- 501 Not Implemented 服务器不支持当前请求所需要的某个功能。当服务器无法识别请求的方法，并且无法支持其对任何资源的请求。
- 502 Bad Gateway 作为网关或者代理工作的服务器尝试执行请求时，从上游服务器接收到无效的响应。

## 长链接
HTTP的长连接

HTTP也可以建立长连接的，使用Connection:keep-alive，HTTP 1.1默认进行持久连接。HTTP1.1和HTTP1.0相比较而言， 最大的区别就是增加了持久连接支持(貌似最新的 http1.0 可以显示的指定 keep-alive),但还是无状态的，或者说是不可以信任的。

什么时候用长连接，短连接？

- 长连接多用于操作频繁，点对点的通讯，而且连接数不能太多情况，。每个TCP连接都需要三步握手，这需要时间，如果每个操作都是先连接，再操作的话那么处理速度会降低很多，所以每个操作完后都不断开，次处理时直接发送数据包就OK了，不用建立TCP连接。 例如：数据库的连接用长连接， 如果用短连接频繁的通信会造成socket错误，而且频繁的socket 创建也是对资源的浪费。

- 而像WEB网站的http服务一般都用短链接，因为长连接对于服务端来说会耗费一定的资源，而像WEB网站这么频繁的成千上万甚至上亿客户端的连接用短连接会更省一些资源，如果用长连接，而且同时有成千上万的用户，如果每个用户都占用一个连接的话，那可想而知吧。 所以并发量大，但每个用户无需频繁操作情况下需用短连好。